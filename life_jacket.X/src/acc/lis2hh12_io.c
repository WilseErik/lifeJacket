// =============================================================================
// Include statements
// =============================================================================

#include "acc/lis2hh12_io.h"

#include <stdint.h>
#include <stdbool.h>

#include <xc.h>

#include "hal/gpio.h"
#include "hal/spi_hal.h"

// =============================================================================
// Private type definitions
// =============================================================================


// =============================================================================
// Global variables
// =============================================================================


// =============================================================================
// Private constants
// =============================================================================


// =============================================================================
// Private variables
// =============================================================================


// =============================================================================
// Private function declarations
// =============================================================================


// =============================================================================
// Public function definitions
// =============================================================================

void lis2hh12_write_register(lis2hh12_address_t reg, uint8_t value)
{
	uint16_t value_to_write = 0x0000;

	spi_hal_setup_for_device(SPI_DEVICE_LIS2HH12);

	value_to_write |= (((uint16_t)reg) << 8);
	value_to_write |= (uint16_t)value;

	(void)spi_hal_tranceive16(value_to_write);
}

uint8_t lis2hh12_read_register(lis2hh12_address_t reg)
{
	uint16_t value_to_write = 0x8000;
	uint16_t read_value;

	spi_hal_setup_for_device(SPI_DEVICE_LIS2HH12);

	value_to_write |= (((uint16_t)reg) << 8);

	read_value = spi_hal_tranceive16(value_to_write);

	return ((uint8_t)read_value);
}

// =============================================================================
// Private function definitions
// =============================================================================
